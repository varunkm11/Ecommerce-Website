<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Checkout — Roseew Shop</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar">
      <div class="container">
        <a href="/" class="logo">
          <i class="fas fa-shopping-bag"></i>
          Roseew Shop
        </a>
        <div class="nav-links">
          <a href="/" class="nav-link">Shop</a>
          <a href="/wishlist" class="nav-link">
            <i class="fas fa-heart"></i>
            <span class="badge" id="wishlist-count">0</span>
          </a>
          <a href="/cart" class="nav-link">
            <i class="fas fa-shopping-cart"></i>
            <span class="badge" id="cart-count">{{ items|length }}</span>
          </a>
        </div>
      </div>
    </nav>

    <main class="container">
      <h1 class="page-title"><i class="fas fa-lock"></i> Secure Checkout</h1>

      <div class="checkout-layout">
        <!-- Checkout Form -->
        <div class="checkout-form-section">
          <form id="checkout-form">
            <!-- Shipping Information -->
            <div class="form-section">
              <h2><i class="fas fa-shipping-fast"></i> Shipping Information</h2>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="firstName">First Name *</label>
                  <input type="text" id="firstName" required>
                </div>
                <div class="form-group">
                  <label for="lastName">Last Name *</label>
                  <input type="text" id="lastName" required>
                </div>
              </div>

              <div class="form-group">
                <label for="email">Email Address *</label>
                <input type="email" id="email" required>
              </div>

              <div class="form-group">
                <label for="phone">Phone Number *</label>
                <input type="tel" id="phone" required>
              </div>

              <div class="form-group">
                <label for="address">Street Address *</label>
                <input type="text" id="address" required>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="city">City *</label>
                  <input type="text" id="city" required>
                </div>
                <div class="form-group">
                  <label for="state">State *</label>
                  <input type="text" id="state" required>
                </div>
                <div class="form-group">
                  <label for="zip">ZIP Code *</label>
                  <input type="text" id="zip" required>
                </div>
              </div>
            </div>

            <!-- Payment Information -->
            <div class="form-section">
              <h2><i class="fas fa-credit-card"></i> Payment Information</h2>
              
              <div class="form-group">
                <label for="cardName">Cardholder Name *</label>
                <input type="text" id="cardName" required>
              </div>

              <div class="form-group">
                <label for="cardNumber">Card Number *</label>
                <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" required>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="expiry">Expiration Date *</label>
                  <input type="text" id="expiry" placeholder="MM/YY" required>
                </div>
                <div class="form-group">
                  <label for="cvv">CVV *</label>
                  <input type="text" id="cvv" placeholder="123" required>
                </div>
              </div>
            </div>

            <div class="security-notice">
              <i class="fas fa-shield-alt"></i>
              <span>Your payment information is secure and encrypted</span>
            </div>
          </form>
        </div>

        <!-- Order Summary -->
        <div class="checkout-summary">
          <h2>Order Summary</h2>
          
          <div class="order-items">
            {% for item in items %}
            <div class="order-item">
              <img src="{{ item.image }}" alt="{{ item.name }}">
              <div class="order-item-info">
                <span class="order-item-name">{{ item.name }}</span>
                <span class="order-item-qty">Qty: {{ item.quantity }}</span>
              </div>
              <span class="order-item-price">₹{{ '%.0f'|format(item.subtotal) }}</span>
            </div>
            {% endfor %}
          </div>

          <hr>

          <div class="summary-row">
            <span>Subtotal</span>
            <span>₹{{ '%.0f'|format(subtotal) }}</span>
          </div>
          
          <div class="summary-row">
            <span>Shipping</span>
            <span>{% if shipping > 0 %}₹{{ '%.0f'|format(shipping) }}{% else %}<span class="free">FREE</span>{% endif %}</span>
          </div>
          
          <div class="summary-row">
            <span>GST (18%)</span>
            <span>₹{{ '%.0f'|format(tax) }}</span>
          </div>
          
          <hr>
          
          <div class="summary-row total-row">
            <span>Total</span>
            <span>₹{{ '%.0f'|format(total) }}</span>
          </div>

          <button type="button" onclick="completeCheckout()" class="btn btn-primary btn-large btn-block">
            <i class="fas fa-check"></i> Place Order
          </button>

          <a href="/cart" class="btn btn-secondary btn-block">
            <i class="fas fa-arrow-left"></i> Back to Cart
          </a>

          <div class="trust-badges">
            <div class="trust-badge">
              <i class="fas fa-lock"></i>
              <span>Secure Payment</span>
            </div>
            <div class="trust-badge">
              <i class="fas fa-undo"></i>
              <span>Easy Returns</span>
            </div>
            <div class="trust-badge">
              <i class="fas fa-truck"></i>
              <span>Fast Shipping</span>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <p>Powered by intelligent dynamic pricing algorithms</p>
      </div>
    </footer>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="/static/app.js"></script>
  </body>
</html>
